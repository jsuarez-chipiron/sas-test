<?xml version="1.0" encoding="UTF-8"?>
<ValidationRule xmlns="http://soap.sforce.com/2006/04/metadata">
    <fullName>Changing_Record_Type_Validation</fullName>
    <active>true</active>
    <description>Makes sure that the user changes Type if Record Type has been changed.</description>
    <errorConditionFormula>AND(ISCHANGED(RecordTypeId), OR(
    IF(RecordType.Name == &#39;Information&#39; &amp;&amp; NOT(ISPICKVAL(Type, &#39;Information&#39;)), true, false),
    IF(RecordType.Name == &#39;Feedback&#39; &amp;&amp; NOT(ISPICKVAL(Type, &#39;Feedback&#39;)), true, false),
    IF(RecordType.Name == &#39;Support&#39; &amp;&amp; NOT(ISPICKVAL(Type, &#39;Support&#39;)), true, false),
    IF(RecordType.Name == &#39;Internal/Backoffice&#39; &amp;&amp; OR(ISPICKVAL(Type, &#39;Information&#39;), ISPICKVAL(Type, &#39;Feedback&#39;), ISPICKVAL(Type, &#39;Support&#39;)), true, false)
))</errorConditionFormula>
    <errorDisplayField>Type</errorDisplayField>
    <errorMessage>Update Type after changing Record Type.</errorMessage>
</ValidationRule>
