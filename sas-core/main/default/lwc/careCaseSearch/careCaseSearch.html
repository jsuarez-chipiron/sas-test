<template>
  <lightning-card title="Search CARE Cases">
    <div if:true={showSpinner}>
      <lightning-spinner
        alternative-text="Loading"
        size="medium"
        variant="brand"
      ></lightning-spinner>
    </div>

    <div class="slds-grid slds-gutters slds-p-horizontal_medium">
      <div class="slds-col slds-size_2-of-12">
        <lightning-input
          type="text"
          label="PNR"
          value={searchValue}
          onchange={handlePNRChange}
        >
        </lightning-input>
      </div>
      <div class="slds-col slds-size_2-of-12">
        <lightning-input
          type="text"
          label="PIR"
          value={searchValue}
          onchange={handlePIRChange}
        >
        </lightning-input>
      </div>
      <div class="slds-col slds-size_2-of-12">
        <lightning-input
          type="text"
          label="Case Number"
          value={searchValue}
          onchange={handleCaseIdChange}
        >
        </lightning-input>
      </div>
    </div>

    <div
      class="slds-grid slds-gutters slds-p-horizontal_medium slds-m-top_medium"
    >
      <div class="slds-col">
        <lightning-button
          variant="brand"
          label="Search"
          title="Search button"
          onclick={handleSearchButtonClick}
        >
        </lightning-button>
      </div>
    </div>

    <div if:true={searched}>
      <div class="slds-p-top_medium slds-p-horizontal_medium">
        <p if:false={casesFound}>No cases found.</p>
        <p if:true={casesFound}>{casesFoundText}</p>
      </div>
      <div if:true={casesFound} class="table slds-scrollable_y">
        <lightning-datatable
          hide-checkbox-column
          key-field="idx"
          data={rows}
          columns={columns}
        ></lightning-datatable>
      </div>
    </div>
  </lightning-card>
</template>
