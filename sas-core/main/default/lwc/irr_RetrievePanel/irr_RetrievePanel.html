<!--
 - @author Niklas Lundkvist, Deloitte
 - @date 2020
 -->

<!-- IRR Retrieve Panel -->
<template>
    <lightning-card title="Retrieve List" icon-name="utility:salesforce1">
        <lightning-button
                slot="actions"
                variant="neutral"
                label="Bypass"
                title="Enter without retrieving a passenger list"
                onclick={handleBypass}>
        </lightning-button>
        <lightning-button
                slot="actions"
                class="slds-p-left_small"
                variant="brand"
                label="Retrieve"
                title="Retrieve Passenger List"
                onclick={handleRetrieve}>
        </lightning-button>
        <div class="slds-media" onkeypress={handleKeyPress}>
            <div class="slds-media__body">
                <lightning-tabset>
                    <lightning-tab
                            class="no-padding"
                            value="FLIGHT_REFERENCE"
                            label="Flight"
                            title="Retrieve passengers by Flight"
                            onactive={handleTabSwitch}>
                        <lightning-layout>
                            <lightning-layout-item padding="around-small">
                                <lightning-input
                                        value={retrieveParameters.flightNumber}
                                        type="text"
                                        name="flightNumber"
                                        label="Flight Number"
                                        data-tab-group="FLIGHT_REFERENCE"
                                        pattern="([A-Z]{2})([0-9]{4})"
                                        required
                                        message-when-pattern-mismatch="Input format SK1238"
                                        onchange={handleParameterChange}>
                                </lightning-input>
                            </lightning-layout-item>
                            <lightning-layout-item padding="around-small">
                                <lightning-input
                                        value={retrieveParameters.departureDate}
                                        type="date"
                                        name="departureDate"
                                        label="Departure Date"
                                        data-tab-group="FLIGHT_REFERENCE"
                                        required
                                        onchange={handleParameterChange}>
                                </lightning-input>
                            </lightning-layout-item>
                            <lightning-layout-item padding="around-small">
                                <lightning-input
                                        value={retrieveParameters.stationDeparture}
                                        type="text"
                                        name="stationDeparture"
                                        label="Station Departure"
                                        data-tab-group="FLIGHT_REFERENCE"
                                        pattern="([A-Z]{3})"
                                        required
                                        message-when-pattern-mismatch="Enter three letter station code"
                                        onchange={handleParameterChange}>
                                </lightning-input>
                            </lightning-layout-item>
                            <lightning-layout-item padding="around-small">
                                <lightning-input
                                        value={retrieveParameters.stationArrival}
                                        type="text"
                                        name="stationArrival"
                                        label="Station Arrival"
                                        data-tab-group="FLIGHT_REFERENCE"
                                        pattern="([A-Z]{3})"
                                        required
                                        message-when-pattern-mismatch="Enter three letter station code"
                                        onchange={handleParameterChange}>
                                </lightning-input>
                            </lightning-layout-item>
                        </lightning-layout>
                    </lightning-tab>
                    <lightning-tab
                            class="no-padding"
                            value="BOOKING_REFERENCE"
                            label="Booking"
                            title="Retrieve passengers by Booking"
                            onactive={handleTabSwitch}>
                        <lightning-layout>
                            <lightning-layout-item padding="around-small" size="3">
                                <lightning-input
                                        value={retrieveParameters.bookingId}
                                        type="text"
                                        name="bookingId"
                                        label="Booking Reference"
                                        data-tab-group="BOOKING_REFERENCE"
                                        required
                                        onchange={handleParameterChange}>
                                </lightning-input>
                            </lightning-layout-item>
                        </lightning-layout>
                    </lightning-tab>
                </lightning-tabset>
            </div>
        </div>
    </lightning-card>
</template>