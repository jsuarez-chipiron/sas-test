<template>
  <div class="slds-text-align_center" if:true={hasNoOpenOrClosedCases}>
    No related cases
  </div>

  <template if:false={hasNoOpenOrClosedCases}>
    <ul class="slds-has-dividers_bottom-space">
      <template for:each={visibleOpenCases} for:item="c">
        <li class={c.className} key={c.CaseNumber}>
          <strong
            >Case&nbsp;
            <a onclick={navigateToCaseViewPage} data-id={c.Id}>{c.CaseNumber}</a
            >, </strong
          ><lightning-formatted-date-time
            value={c.CreatedDate}
          ></lightning-formatted-date-time
          >, {c.StatusOrReason}
        </li>
      </template>
    </ul>
    <div class="slds-text-align_center" if:true={hasNoOpenCases}>
      No related open cases
    </div>
    <div if:false={hasNoOpenCases} class="case-count-text">
      <span
        class="slds-text-align_left slds-text-color_weak slds-text-body_small"
        >Showing {openCasesCount} open cases</span
      >
    </div>
    <div class="slds-m-vertical_small" if:false={showAllOpenCases}>
      <a class="slds-align_absolute-center" onclick={handleDisplayAllOpenCases}
        >Load more</a
      >
    </div>

    <div class="section-divider slds-m-vertical_small slds-p-top_x-small"></div>

    <ul class="slds-has-dividers_bottom-space">
      <template for:each={visibleClosedCases} for:item="c">
        <li class={c.className} key={c.CaseNumber}>
          <strong
            >Case&nbsp;
            <a onclick={navigateToCaseViewPage} data-id={c.Id}>{c.CaseNumber}</a
            >, </strong
          ><lightning-formatted-date-time
            value={c.CreatedDate}
          ></lightning-formatted-date-time
          >, {c.StatusOrReason}
        </li>
      </template>
    </ul>
    <div class="slds-text-align_center" if:true={hasNoClosedCases}>
      No related closed cases
    </div>
    <div if:false={hasNoClosedCases} class="case-count-text">
      <span
        class="slds-text-align_left slds-text-color_weak slds-text-body_small"
        >Showing {closedCasesCount} closed cases</span
      >
    </div>
    <div class="slds-m-vertical_small" if:false={showAllClosedCases}>
      <a
        class="slds-align_absolute-center"
        onclick={handleDisplayAllClosedCases}
        >Load more</a
      >
    </div>
  </template>
</template>
