<template>
  <div>
    <lightning-card title="Tag Case" icon-name="action:new_case">
      <div class="case-tag-message" if:true={caseTagged}>
        <p>Case is Tagged</p>
      </div>
      <lightning-record-edit-form
        object-api-name="Case"
        record-id={recordId}
        record-type-id={recordTypeId}
        onsuccess={handleSuccess}
      >
        <lightning-messages></lightning-messages>
        <div class="slds-grid slds-wrap" onkeydown={handleSubmitOnKeyPress}>
          <div class="slds-col slds-size_1-of-2">
            <lightning-input-field
              field-name="Department__c"
              value={Department__c}
              disabled="true"
            ></lightning-input-field>
          </div>
          <div class="slds-col slds-size_1-of-2">
            <lightning-input-field
              field-name="FCS_CaseType__c"
              value={FCS_CaseType__c}
              required
            ></lightning-input-field>
          </div>
          <div class="slds-col slds-size_1-of-2">
            <lightning-input-field
              field-name="FCS_Case_Reason__c"
              value={FCS_Case_Reason__c}
              required
              onchange={handleDataChange}
            >
            </lightning-input-field>
          </div>
          <div class="slds-col slds-size_1-of-2">
            <lightning-input-field
              field-name="FCS_CaseResolution__c"
              value={FCS_CaseResolution__c}
              required
            >
            </lightning-input-field>
          </div>
          <div
            class="slds-col slds-size_2-of-3"
            if:true={hideResolutionComment}
          >
            <lightning-input-field
              field-name="FCS_CaseResolutionDetails__c"
              value={FCS_CaseResolutionDetails__c}
              required
            >
            </lightning-input-field>
          </div>
        </div>
        <div class="slds-button-group-row slds-align_absolute-center">
          <div class="slds-button-group-item">
            <button
              name="cancel"
              class="slds-button slds-button_neutral"
              onclick={handleReset}
            >
              Cancel
            </button>
          </div>
          <div class="slds-button-group-item">
            <button
              name="Save"
              type="submit"
              class="slds-button slds-button_brand"
            >
              Save
            </button>
          </div>
        </div>
      </lightning-record-edit-form>
    </lightning-card>
  </div>
  <!--Custom child component to render errors in search-->
  <template if:true={error}>
    <c-c_-error-panel errors={error}></c-c_-error-panel>
  </template>
</template>
