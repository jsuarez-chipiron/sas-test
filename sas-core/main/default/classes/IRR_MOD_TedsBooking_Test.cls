/**
 * @author Niklas Lundkvist
 * @date 2020-03-16
 * @description Test Class for TedsBooking model class.
 */

@IsTest
private class IRR_MOD_TedsBooking_Test {

    // This test method should give 100% coverage
    @IsTest
    static void testParse() {
        String json = '{\"id\":\"ABC132-20200205\",\"reference\":\"ABC132\",\"type\":\"ReturnTrip\",\"status\":\"Active\",\"codsId\":\"85465242\",\"audit\":{\"created\":{\"officeId\":\"STOSK08RV\",\"at\":\"2020-02-05T17:32:28Z\"},\"updated\":{\"officeId\":\"STOSK08RV\",\"at\":\"2017-02-12T17:32:28Z\"}},\"passengers\":[{\"id\":\"ABC132-01\",\"title\":\"MRS\",\"firstName\":\"Testar\",\"lastName\":\"Testperson\",\"type\":\"Adult\",\"contact\":{\"phone\":[{\"type\":\"CTCM\",\"number\":\"+46700000000\"}],\"email\":[{\"type\":\"CTCE\",\"address\":\"name@email.com\"}]},\"frequentTraveler\":{\"euroBonus\":[{\"segmentIds\":[\"ST1\"],\"number\":\"544127491\",\"tier\":\"EBB\"}],\"other\":[{\"segmentIds\":[\"ST1\"],\"number\":\"S125891143\",\"carrier\":\"LH\"}]},\"specialServiceRequests\":[{\"segmentIds\":[\"ST1\",\"ST2\"],\"type\":\"Wheelchair\",\"code\":\"WCHR\",\"text\":\"WCHR ASSISTANCE.PROVIDED REGULATIONS IN SALES PROCEDURES ARE MET\"}],\"segments\":[{\"segmentId\":\"ABC132-O-01-01\",\"seatedWith\":null,\"ticket\":{\"number\":\"117-3456789009876\",\"type\":\"ETKT\"},\"seat\":\"3C\",\"isCheckedIn\":true,\"checkinOfficeId\":\"OSLSK08VB\",\"isBoarded\":true},{\"segmentId\":\"ABC132-I-01-01\",\"seatedWith\":null,\"ticket\":{\"number\":\"117-3456789009876\",\"type\":\"ETKT\"},\"seat\":\"3C\",\"isCheckedIn\":true,\"checkinOfficeId\":\"OSLSK08VB\",\"isBoarded\":true},{\"segmentId\":\"ABC132-O-02-01\",\"seatedWith\":null,\"ticket\":{\"number\":\"117-3456789009876\",\"type\":\"ETKT\"},\"seat\":\"3C\",\"isCheckedIn\":true,\"checkinOfficeId\":\"OSLSK08VB\",\"isBoarded\":true},{\"segmentId\":\"ABC132-O-02-01\",\"seatedWith\":null,\"ticket\":{\"number\":\"117-3456789009876\",\"type\":\"ETKT\"},\"seat\":\"3C\",\"isCheckedIn\":true,\"checkinOfficeId\":\"OSLSK08VB\",\"isBoarded\":true}]}],\"trips\":[{\"id\":\"ABC132-O-01\",\"type\":\"Outbound\",\"segments\":[{\"id\":\"ABC132-O-01-01\",\"transportationType\":\"Flight\",\"statusCode\":\"HK\",\"status\":\"Confirmed\",\"flight\":{\"id\":\"SK1238-20200213-ARN-CPH\",\"operatingCarrier\":\"SK\",\"operatingFlightNumber\":\"1238\",\"marketingCarrier\":\"SK\",\"marketingFlightNumber\":\"1238\",\"departure\":{\"station\":\"ARN\",\"terminal\":\"2\",\"scheduledTime\":{\"local\":\"2020-02-13T16:00:00Z\",\"utc\":\"2020-02-13T15:00:00Z\"}},\"arrival\":{\"station\":\"CPH\",\"terminal\":\"2\",\"scheduledTime\":{\"local\":\"2020-02-13T15:00:00Z\",\"utc\":\"2020-02-13T16:00:00Z\"}}},\"bookingClass\":\"Y\",\"serviceClass\":\"C\"}]},{\"id\":\"ABC132-I-01\",\"type\":\"Inbound\",\"segments\":[{\"id\":\"ABC132-I-01-01\",\"transportationType\":\"Flight\",\"statusCode\":\"HK\",\"status\":\"Confirmed\",\"flight\":{\"id\":\"SK1239-20200214-CPH-ARN\",\"operatingCarrier\":\"SK\",\"operatingFlightNumber\":\"1239\",\"marketingCarrier\":\"SK\",\"marketingFlightNumber\":\"1239\",\"departure\":{\"station\":\"CPH\",\"terminal\":\"2\",\"scheduledTime\":{\"local\":\"2020-02-14T17:30:00Z\",\"utc\":\"2020-02-14T16:30:00Z\"}},\"arrival\":{\"station\":\"ARN\",\"terminal\":\"2\",\"scheduledTime\":{\"local\":\"2020-02-14T18:30:00Z\",\"utc\":\"2020-02-14T17:30:00Z\"}}},\"bookingClass\":\"Y\",\"serviceClass\":\"C\"}]},{\"id\":\"ABC132-O-02\",\"type\":\"Outbound\",\"segments\":[{\"id\":\"ABC132-O-02-01\",\"transportationType\":\"Flight\",\"statusCode\":\"HK\",\"status\":\"Confirmed\",\"flight\":{\"id\":\"SK1240-20200221-LLA-OSL\",\"operatingCarrier\":\"SK\",\"operatingFlightNumber\":\"1240\",\"marketingCarrier\":\"SK\",\"marketingFlightNumber\":\"1240\",\"departure\":{\"station\":\"LLA\",\"terminal\":\"2\",\"scheduledTime\":{\"local\":\"2020-02-21T16:00:00Z\",\"utc\":\"2020-02-21T15:00:00Z\"}},\"arrival\":{\"station\":\"OSL\",\"terminal\":\"2\",\"scheduledTime\":{\"local\":\"2020-02-22T15:00:00Z\",\"utc\":\"2020-02-22T16:00:00Z\"}}},\"bookingClass\":\"Y\",\"serviceClass\":\"C\"}]},{\"id\":\"ABC132-I-02\",\"type\":\"Inbound\",\"segments\":[{\"id\":\"ABC132-I-02-01\",\"transportationType\":\"Flight\",\"statusCode\":\"HK\",\"status\":\"Confirmed\",\"flight\":{\"id\":\"SK1241-20200222-OSL-LLA\",\"operatingCarrier\":\"SK\",\"operatingFlightNumber\":\"1241\",\"marketingCarrier\":\"SK\",\"marketingFlightNumber\":\"1241\",\"departure\":{\"station\":\"OSL\",\"terminal\":\"2\",\"scheduledTime\":{\"local\":\"2020-02-22T13:00:00Z\",\"utc\":\"2020-02-22T12:00:00Z\"}},\"arrival\":{\"station\":\"LLA\",\"terminal\":\"2\",\"scheduledTime\":{\"local\":\"2020-02-22T14:00:00Z\",\"utc\":\"2020-02-2213:00:00Z\"}}},\"bookingClass\":\"Y\",\"serviceClass\":\"C\"}]}]}';

        IRR_MOD_TedsBooking r = IRR_MOD_TedsBooking.parse(json);
        System.assert(r != null);
    }

    // This test method should give 100% coverage
    @IsTest
    static void testParseArray() {
        String json = '[{\"id\":\"ABC132-20200205\",\"reference\":\"ABC132\",\"type\":\"ReturnTrip\",\"status\":\"Active\",\"codsId\":\"85465242\",\"audit\":{\"created\":{\"officeId\":\"STOSK08RV\",\"at\":\"2020-02-05T17:32:28Z\"},\"updated\":{\"officeId\":\"STOSK08RV\",\"at\":\"2017-02-12T17:32:28Z\"}},\"passengers\":[{\"id\":\"ABC132-01\",\"title\":\"MRS\",\"firstName\":\"Testar\",\"lastName\":\"Testperson\",\"type\":\"Adult\",\"contact\":{\"phone\":[{\"type\":\"CTCM\",\"number\":\"+46700000000\"}],\"email\":[{\"type\":\"CTCE\",\"address\":\"name@email.com\"}]},\"frequentTraveler\":{\"euroBonus\":[{\"segmentIds\":[\"ST1\"],\"number\":\"544127491\",\"tier\":\"EBB\"}],\"other\":[{\"segmentIds\":[\"ST1\"],\"number\":\"S125891143\",\"carrier\":\"LH\"}]},\"specialServiceRequests\":[{\"segmentIds\":[\"ST1\",\"ST2\"],\"type\":\"Wheelchair\",\"code\":\"WCHR\",\"text\":\"WCHR ASSISTANCE.PROVIDED REGULATIONS IN SALES PROCEDURES ARE MET\"}],\"segments\":[{\"segmentId\":\"ABC132-O-01-01\",\"seatedWith\":null,\"ticket\":{\"number\":\"117-3456789009876\",\"type\":\"ETKT\"},\"seat\":\"3C\",\"isCheckedIn\":true,\"checkinOfficeId\":\"OSLSK08VB\",\"isBoarded\":true},{\"segmentId\":\"ABC132-I-01-01\",\"seatedWith\":null,\"ticket\":{\"number\":\"117-3456789009876\",\"type\":\"ETKT\"},\"seat\":\"3C\",\"isCheckedIn\":true,\"checkinOfficeId\":\"OSLSK08VB\",\"isBoarded\":true},{\"segmentId\":\"ABC132-O-02-01\",\"seatedWith\":null,\"ticket\":{\"number\":\"117-3456789009876\",\"type\":\"ETKT\"},\"seat\":\"3C\",\"isCheckedIn\":true,\"checkinOfficeId\":\"OSLSK08VB\",\"isBoarded\":true},{\"segmentId\":\"ABC132-O-02-01\",\"seatedWith\":null,\"ticket\":{\"number\":\"117-3456789009876\",\"type\":\"ETKT\"},\"seat\":\"3C\",\"isCheckedIn\":true,\"checkinOfficeId\":\"OSLSK08VB\",\"isBoarded\":true}]}],\"trips\":[{\"id\":\"ABC132-O-01\",\"type\":\"Outbound\",\"segments\":[{\"id\":\"ABC132-O-01-01\",\"transportationType\":\"Flight\",\"statusCode\":\"HK\",\"status\":\"Confirmed\",\"flight\":{\"id\":\"SK1238-20200213-ARN-CPH\",\"operatingCarrier\":\"SK\",\"operatingFlightNumber\":\"1238\",\"marketingCarrier\":\"SK\",\"marketingFlightNumber\":\"1238\",\"departure\":{\"station\":\"ARN\",\"terminal\":\"2\",\"scheduledTime\":{\"local\":\"2020-02-13T16:00:00Z\",\"utc\":\"2020-02-13T15:00:00Z\"}},\"arrival\":{\"station\":\"CPH\",\"terminal\":\"2\",\"scheduledTime\":{\"local\":\"2020-02-13T15:00:00Z\",\"utc\":\"2020-02-13T16:00:00Z\"}}},\"bookingClass\":\"Y\",\"serviceClass\":\"C\"}]},{\"id\":\"ABC132-I-01\",\"type\":\"Inbound\",\"segments\":[{\"id\":\"ABC132-I-01-01\",\"transportationType\":\"Flight\",\"statusCode\":\"HK\",\"status\":\"Confirmed\",\"flight\":{\"id\":\"SK1239-20200214-CPH-ARN\",\"operatingCarrier\":\"SK\",\"operatingFlightNumber\":\"1239\",\"marketingCarrier\":\"SK\",\"marketingFlightNumber\":\"1239\",\"departure\":{\"station\":\"CPH\",\"terminal\":\"2\",\"scheduledTime\":{\"local\":\"2020-02-14T17:30:00Z\",\"utc\":\"2020-02-14T16:30:00Z\"}},\"arrival\":{\"station\":\"ARN\",\"terminal\":\"2\",\"scheduledTime\":{\"local\":\"2020-02-14T18:30:00Z\",\"utc\":\"2020-02-14T17:30:00Z\"}}},\"bookingClass\":\"Y\",\"serviceClass\":\"C\"}]},{\"id\":\"ABC132-O-02\",\"type\":\"Outbound\",\"segments\":[{\"id\":\"ABC132-O-02-01\",\"transportationType\":\"Flight\",\"statusCode\":\"HK\",\"status\":\"Confirmed\",\"flight\":{\"id\":\"SK1240-20200221-LLA-OSL\",\"operatingCarrier\":\"SK\",\"operatingFlightNumber\":\"1240\",\"marketingCarrier\":\"SK\",\"marketingFlightNumber\":\"1240\",\"departure\":{\"station\":\"LLA\",\"terminal\":\"2\",\"scheduledTime\":{\"local\":\"2020-02-21T16:00:00Z\",\"utc\":\"2020-02-21T15:00:00Z\"}},\"arrival\":{\"station\":\"OSL\",\"terminal\":\"2\",\"scheduledTime\":{\"local\":\"2020-02-22T15:00:00Z\",\"utc\":\"2020-02-22T16:00:00Z\"}}},\"bookingClass\":\"Y\",\"serviceClass\":\"C\"}]},{\"id\":\"ABC132-I-02\",\"type\":\"Inbound\",\"segments\":[{\"id\":\"ABC132-I-02-01\",\"transportationType\":\"Flight\",\"statusCode\":\"HK\",\"status\":\"Confirmed\",\"flight\":{\"id\":\"SK1241-20200222-OSL-LLA\",\"operatingCarrier\":\"SK\",\"operatingFlightNumber\":\"1241\",\"marketingCarrier\":\"SK\",\"marketingFlightNumber\":\"1241\",\"departure\":{\"station\":\"OSL\",\"terminal\":\"2\",\"scheduledTime\":{\"local\":\"2020-02-22T13:00:00Z\",\"utc\":\"2020-02-22T12:00:00Z\"}},\"arrival\":{\"station\":\"LLA\",\"terminal\":\"2\",\"scheduledTime\":{\"local\":\"2020-02-22T14:00:00Z\",\"utc\":\"2020-02-2213:00:00Z\"}}},\"bookingClass\":\"Y\",\"serviceClass\":\"C\"}]}]}]';

        List<IRR_MOD_TedsBooking> r = IRR_MOD_TedsBooking.parseArray(json);
        System.assert(r != null);
        System.assert(!r.isEmpty());
    }
}